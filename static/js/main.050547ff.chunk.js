(this["webpackJsonpbattleship-game"]=this["webpackJsonpbattleship-game"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t){e.exports=function(e){var t=!1,a=0;return{isSunk:function(){return t},hit:function(){t||++a===e&&(t=!0)},length:e}}},,,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),i=a(5),o=a.n(i),s=(a(11),a(2)),u=(a(12),a(13),a(14),function(e){var t=Object(c.useState)(e.value),a=Object(s.a)(t,2),r=a[0],i=a[1];return Object(c.useEffect)((function(){i(e.value)}),[e]),Object(n.jsx)("div",{className:"grid".concat(r),onClick:function(){return e.onClick(e.y,e.x)},onMouseOver:function(e){return e.target.style.backgroundColor="green"},onMouseOut:function(e){return e.target.style.backgroundColor=""},children:Object(n.jsx)("span",{className:"".concat(e.computerOrHuman).concat(r)})})}),l=function(e){var t=Object(c.useState)(e.gameboard),a=Object(s.a)(t,2),r=a[0],i=a[1];Object(c.useEffect)((function(){i(e.gameboard)}),[e.gameboard]);var o=r.map((function(t,a){return Object(n.jsx)("div",{className:"row",children:t.map((function(t,c){return Object(n.jsx)("div",{className:"col",children:Object(n.jsx)(u,{onClick:function(t,a){return e.onClick(t,a)},y:a,x:c,value:t,computerOrHuman:e.type})},c)}))},a)}));return Object(n.jsxs)("div",{className:"gameboard-container",children:[Object(n.jsx)("h2",{children:e.name}),Object(n.jsx)("div",{className:"gameboard",children:o})]})},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"true",t=function(e){var t,a,n;do{t=Math.floor(10*Math.random()),a=Math.floor(10*Math.random()),n=e.receiveAttack(t,a)}while("Error!"===n)},a=function(e,t,a){e.receiveAttack(t,a)},n=function(n,c,r){e?a(n,c,r):t(n)};return{attack:n,isHuman:e}},h=a(15),b=a(4),p=function(){for(var e=[],t=0,a="",n=new Array(10),c=0;c<10;c++){n[c]=new Array(10);for(var r=0;r<10;r++)n[c][r]=0}return{placeShips:function(t,a,c,r){var i=h(t);e.push(i);for(var o=b.cloneDeep(n),s=0;s<t;s++)if("Vertical"===a){if(!(0===o[c+s][r]&&c+t<11))return"Error! Can't place ship there!";o[c+s][r]=t}else{if(!(0===o[c][r+s]&&r+t<11))return"Error! Can't place ship there!";o[c][r+s]=t}n=b.cloneDeep(o)},getBoardSpaces:function(){return n},receiveAttack:function(c,r){if(0!==n[c][r]&&"X"!==n[c][r]&&1!==n[c][r])e.forEach((function(e){e.length===n[c][r]&&(n[c][r]="X",e.hit(),a="Hit!",!0===e.isSunk()&&(t++,a="Hit and Sunk!",5===t&&(a="Hit and Sunk! You've sunk all my ships!")))}));else{if(0!==n[c][r])return"Error!";n[c][r]=1,a="Miss!"}},getMessage:function(){return a}}},d=function(){var e=p(),t=p(),a=j(!0),n=j(!1);return t.placeShips(2,"Vertical",2,4),t.placeShips(3,"horiz",0,5),t.placeShips(4,"horiz",8,1),t.placeShips(5,"Vertical",1,1),t.placeShips(6,"Vertical",2,9),[e,t,a,n]},f=a(4),g=d(),O=Object(s.a)(g,4),m=O[0],v=O[1],S=O[2],k=O[3];var x=function(){Object(c.useEffect)((function(){var e=d(),t=Object(s.a)(e,4);t[0],t[1],t[2],t[3]}),[]);var e=Object(c.useState)("Welcome to BattleShip! Start by placing your ships. You will have 5 ships to place, starting with a 6 unit Carrier to a 2 unit Destroyer. You can set the orientation with the Orientation toggle button"),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)(!1),o=Object(s.a)(i,2),u=o[0],j=o[1],h=Object(c.useState)(m.getBoardSpaces()),b=Object(s.a)(h,2),p=b[0],g=b[1],O=Object(c.useState)(v.getBoardSpaces()),x=Object(s.a)(O,2),y=x[0],M=x[1],C=Object(c.useState)(m.getMessage()),N=Object(s.a)(C,2),w=N[0],A=N[1],E=Object(c.useState)(v.getMessage()),H=Object(s.a)(E,2),B=H[0],V=H[1],D=Object(c.useState)([6,5,4,3,2]),G=Object(s.a)(D,2),U=G[0],Y=G[1],z=Object(c.useState)("Vertical"),I=Object(s.a)(z,2),J=I[0],R=I[1];return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("h1",{children:"BATTLESHIP"}),Object(n.jsx)("div",{className:"instructions",children:a}),Object(n.jsxs)("div",{className:"gameboards-container",children:[Object(n.jsxs)("div",{className:"player-container",children:[Object(n.jsx)(l,{onClick:function(e,t){!function(e,t){void 0===m.placeShips(U[0],J,e,t)?(Y(U.filter((function(e,t){return 0!==t}))),g(f.cloneDeep(m.getBoardSpaces())),A(""),2===U[0]&&r("USA goes first! Choose locations on the enemy board to attack. First player to sink all 5 enemy ships wins glory to powerful nation and gains much valor!")):A("Glorious nation can't put ship there!")}(e,t)},gameboard:p,name:"USA",type:"human"}),Object(n.jsx)("div",{className:"Message",children:w}),void 0===U[0]||Object(n.jsx)("button",{onClick:function(){R("Vertical"===J?"Horizontal":"Vertical")},children:J})]}),Object(n.jsxs)("div",{className:"computer-container",children:[Object(n.jsx)(l,{onClick:function(e,t){return function(e,t){if(void 0===U[0]&&!1===u){S.attack(v,e,t);var a=f.cloneDeep(v.getBoardSpaces());M(a),V(v.getMessage()),k.attack(m);var n=f.cloneDeep(m.getBoardSpaces());g(n),A(m.getMessage()),"Hit and Sunk! You've sunk all my ships!"===v.getMessage()&&(j(!0),r("Game over! Glory to all great nation of US and A!")),"Hit and Sunk! You've sunk all my ships!"===m.getMessage()&&(j(!0),r("Game over! Glory to all great nation of USSR!"))}}(e,t)},gameboard:y,name:"USSR",type:"computer"}),Object(n.jsx)("div",{className:"Message",children:B})]})]})]})};o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(x,{})}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.050547ff.chunk.js.map