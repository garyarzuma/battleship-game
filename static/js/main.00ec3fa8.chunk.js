(this["webpackJsonpbattleship-game"]=this["webpackJsonpbattleship-game"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t){e.exports=function(e){var t=!1,a=0;return{isSunk:function(){return t},hit:function(){t||++a===e&&(t=!0)},length:e}}},,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),c=a.n(r),o=a(5),i=a.n(o),s=(a(11),a(2)),u=(a(12),a(13),a(14),function(e){var t=Object(r.useState)(e.value),a=Object(s.a)(t,2),c=a[0],o=a[1];return Object(r.useEffect)((function(){o(e.value)}),[e]),Object(n.jsx)("div",{className:"grid".concat(c),onClick:function(){return e.onClick(e.y,e.x)},onMouseOver:function(e){return e.target.style.backgroundColor="green"},onMouseOut:function(e){return e.target.style.backgroundColor=""},children:Object(n.jsx)("span",{className:"".concat(e.computerOrHuman).concat(c)})})}),l=function(e){var t=Object(r.useState)(e.gameboard),a=Object(s.a)(t,2),c=a[0],o=a[1];Object(r.useEffect)((function(){o(e.gameboard)}),[e.gameboard]);var i=c.map((function(t,a){return Object(n.jsx)("div",{className:"row",children:t.map((function(t,r){return Object(n.jsx)("div",{className:"col",children:Object(n.jsx)(u,{onClick:function(t,a){return e.onClick(t,a)},y:a,x:r,value:t,computerOrHuman:e.type})},r)}))},a)}));return Object(n.jsxs)("div",{className:"gameboard-container",children:[e.name,Object(n.jsx)("div",{className:"gameboard",children:i})]})},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"true",t=function(e){var t,a,n;do{t=Math.floor(10*Math.random()),a=Math.floor(10*Math.random()),n=e.receiveAttack(t,a)}while("Error!"===n)},a=function(e,t,a){e.receiveAttack(t,a)},n=function(n,r,c){e?a(n,r,c):t(n)};return{attack:n,isHuman:e}},f=a(15),j=a(4),b=function(){for(var e=[],t=0,a="",n=new Array(10),r=0;r<10;r++){n[r]=new Array(10);for(var c=0;c<10;c++)n[r][c]=0}return{placeShips:function(t,a,r,c){var o=f(t);e.push(o);for(var i=j.cloneDeep(n),s=0;s<t;s++)if("Vertical"===a){if(!(0===i[r+s][c]&&r+t<11))return"Error! Can't place ship there!";i[r+s][c]=t}else{if(!(0===i[r][c+s]&&c+t<11))return"Error! Can't place ship there!";i[r][c+s]=t}n=j.cloneDeep(i)},getBoardSpaces:function(){return n},receiveAttack:function(r,c){if(0!==n[r][c]&&"X"!==n[r][c]&&1!==n[r][c])e.forEach((function(e){e.length===n[r][c]&&(n[r][c]="X",e.hit(),a="Hit!",!0===e.isSunk()&&(t++,a="Hit and Sunk!",5===t&&(a="Hit and Sunk! You've sunk all my ships!")))}));else{if(0!==n[r][c])return"Error!";n[r][c]=1,a="Miss!"}},getMessage:function(){return a}}},h=function(){var e=b(),t=b(),a=p(!0),n=p(!1);return t.placeShips(2,"Vertical",2,4),t.placeShips(3,"horiz",0,5),t.placeShips(4,"horiz",8,1),t.placeShips(5,"Vertical",1,1),t.placeShips(6,"Vertical",2,9),[e,t,a,n]},d=a(4),g=h(),O=Object(s.a)(g,4),m=O[0],v=O[1],S=O[2],k=O[3];var y=function(){Object(r.useEffect)((function(){var e=h(),t=Object(s.a)(e,4);t[0],t[1],t[2],t[3]}),[]);var e=Object(r.useState)("Welcome to BattleShip! Start by Placing your ships. You will have 5 ships to place, starting with a 6 unit Carrier to a 2 unit Destroyer. You can set the orientation with the Orientation toggle button"),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)(!1),i=Object(s.a)(o,2),u=i[0],p=i[1],f=Object(r.useState)(m.getBoardSpaces()),j=Object(s.a)(f,2),b=j[0],g=j[1],O=Object(r.useState)(v.getBoardSpaces()),y=Object(s.a)(O,2),x=y[0],M=y[1],C=Object(r.useState)(m.getMessage()),N=Object(s.a)(C,2),w=N[0],E=N[1],H=Object(r.useState)(v.getMessage()),B=Object(s.a)(H,2),V=B[0],A=B[1],D=Object(r.useState)([6,5,4,3,2]),Y=Object(s.a)(D,2),G=Y[0],P=Y[1],z=Object(r.useState)("Vertical"),J=Object(s.a)(z,2),R=J[0],U=J[1];return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsxs)("div",{className:"player-container",children:[Object(n.jsx)(l,{onClick:function(e,t){!function(e,t){void 0===m.placeShips(G[0],R,e,t)?(P(G.filter((function(e,t){return 0!==t}))),g(d.cloneDeep(m.getBoardSpaces())),E(""),2===G[0]&&c("Player goes first! Choose locations on the enemy board to attack. First player to sink all 5 enemy ships wins glory to powerful nation of valor!")):E("Error! Can't place ship there")}(e,t)},gameboard:b,name:"Player 1",type:"human"}),Object(n.jsx)("div",{className:"Message",children:w})]}),Object(n.jsxs)("div",{className:"computer-container",children:[Object(n.jsx)(l,{onClick:function(e,t){return function(e,t){if(void 0===G[0]&&!1===u){S.attack(v,e,t);var a=d.cloneDeep(v.getBoardSpaces());M(a),A(v.getMessage()),k.attack(m);var n=d.cloneDeep(m.getBoardSpaces());g(n),E(m.getMessage()),"Hit and Sunk! You've sunk all my ships!"===v.getMessage()&&(p(!0),c("Game over! Glory to all great nation of Player!")),"Hit and Sunk! You've sunk all my ships!"===m.getMessage()&&(p(!0),c("Game over! Glory to all great nation of USSR!"))}}(e,t)},gameboard:x,name:"USSR",type:"computer"}),Object(n.jsx)("div",{className:"Message",children:V})]}),Object(n.jsx)("button",{onClick:function(){U("Vertical"===R?"Horizontal":"Vertical")},children:R}),Object(n.jsx)("div",{className:"instructions",children:a})]})};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(y,{})}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.00ec3fa8.chunk.js.map